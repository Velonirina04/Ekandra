/* General Body and Container Styles */
body {
    background-color: #f8f9fa; /* Light background for the whole page */
    font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    color: #343a40;
}

.container {
    max-width: 900px; /* Adjust container width for messaging content */
}

/* Header Section */
.header-section {
    background-color: #ffffff;
    border-bottom: 3px solid #007bff; /* Primary color emphasis */
}

.header-section h1 {
    color: #007bff !important; /* Primary blue for main title */
    font-weight: 700;
}

.header-section .lead {
    color: #6c757d !important; /* Secondary grey for lead text */
}

/* Conversations Card */
.conversations-card {
    border-radius: 0.75rem;
    overflow: hidden; /* Ensures content respects border-radius */
    box-shadow: 0 0.5rem 1.5rem rgba(0, 0, 0, 0.08) !important; /* Stronger shadow for the main card */
}

.conversations-card .card-title {
    font-size: 1.6rem;
    color: #007bff; /* Primary blue for section title */
}

/* Individual Conversation Item */
.list-group-item.conversation-item-hover {
    transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
    border-left: 5px solid transparent; /* For unread indicator or hover */
}

.list-group-item.conversation-item-hover:hover {
    background-color: #e9ecef; /* Light grey on hover */
    transform: translateX(3px); /* Subtle shift right */
}

.list-group-item.unread-conversation {
    background-color: #f0f8ff; /* Light blue background for unread */
    border-left-color: #007bff; /* Primary blue stripe for unread */
}

.list-group-item.unread-conversation .fw-bold.text-dark {
    color: #343a40 !important; /* Darker text for unread title */
}

.list-group-item.unread-conversation .last-message-snippet {
    color: #212529 !important; /* Darker text for unread snippet */
}

/* Avatar Placeholder */
.avatar-placeholder {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #e0e0e0; /* Light grey background for avatar */
    flex-shrink: 0; /* Prevent shrinking */
    overflow: hidden; /* Ensure content respects border-radius */
    border: 2px solid transparent; /* Default border */
}

.avatar-placeholder i {
    font-size: 2.2rem; /* Size of the person icon */
    color: #9e9e9e; /* Muted color for the icon */
}

/* Avatar border for unread */
.avatar-placeholder.border-primary {
    border-color: #007bff;
}

/* Conversation Details */
.conversation-details h6 {
    font-size: 1.1rem;
    margin-bottom: 0.2rem !important;
}

.conversation-details .last-message-snippet {
    font-size: 0.85rem;
    line-height: 1.4;
}

.last-message-snippet .text-primary {
    color: #007bff !important; /* Primary color for "Vous" */
}

.last-message-snippet .text-info {
    color: #17a2b8 !important; /* Info color for other sender */
}

/* Unread Badge */
.unread-badge {
    font-size: 0.8rem;
    padding: 0.35em 0.65em;
    min-width: 25px; /* Ensure badge has minimum width */
    text-align: center;
    transform-origin: center;
}

/* Optional: Add a simple bounce animation if you use animate.css */
/* Make sure to include Animate.css link in your base.html or header */
/*
@keyframes bounceIn {
  from, 20%, 40%, 60%, 80%, to {
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
  }

  0% {
    opacity: 0;
    transform: scale3d(0.3, 0.3, 0.3);
  }

  20% {
    transform: scale3d(1.1, 1.1, 1.1);
  }

  40% {
    transform: scale3d(0.9, 0.9, 0.9);
  }

  60% {
    opacity: 1;
    transform: scale3d(1.03, 1.03, 1.03);
  }

  80% {
    transform: scale3d(0.97, 0.97, 0.97);
  }

  to {
    opacity: 1;
    transform: scale3d(1, 1, 1);
  }
}

.animate__bounceIn {
  animation-duration: 0.75s;
  animation-name: bounceIn;
}
*/

/* Empty State */
.p-5.text-center.text-muted {
    background-color: #ffffff;
    border-radius: 0.75rem;
    box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.03); /* Subtle inner shadow */
}

.p-5.text-center .display-4 {
    color: #007bff !important; /* Primary blue for empty state icon */
}

/* Find User Button in Footer */
.find-user-btn {
    font-size: 1.1rem;
    padding: 0.75rem 2rem;
    font-weight: 600;
    transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
}

.find-user-btn:hover {
    background-color: #0056b3; /* Darker blue on hover */
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 123, 255, 0.2);
}

/* Responsive Adjustments */
@media (max-width: 767.98px) {
    .header-section h1 {
        font-size: 2.2rem;
    }
    .conversations-card {
        margin: 0 15px; /* Add some margin on small screens */
    }
    .list-group-item .avatar-placeholder {
        width: 40px;
        height: 40px;
    }
    .list-group-item .avatar-placeholder i {
        font-size: 1.8rem;
    }
    .conversation-details h6 {
        font-size: 1rem;
    }
    .find-user-btn {
        width: 100%;
        padding: 0.6rem 1.5rem;
    }
}
/* Ensure the base body styles apply from your global dark mode CSS */

/* --- Dark Mode Styles for Message List Specific Elements --- */

/* Header Section */
body.dark-mode .header-section {
    background-color: #2d3748 !important; /* Darker background for the header */
    box-shadow: 0 5px 20px rgba(0,0,0,0.4) !important; /* Darker shadow */
}

body.dark-mode .header-section h1 {
    color: #4cc9f0 !important; /* Accent color for the title */
}

body.dark-mode .header-section p {
    color: #cbd5e0 !important; /* Lighter text for the lead paragraph */
}

/* Main Conversations Card */
body.dark-mode .conversations-card {
    background-color: #2d3748 !important; /* Dark background for the main card */
    box-shadow: 0 10px 30px rgba(0,0,0,0.6) !important; /* Deeper shadow */
}

body.dark-mode .conversations-card .card-title {
    background-color: #3a0ca3; /* A complementary dark accent for card title bar */
    color: #e2e8f0 !important; /* Light text for the card title */
    border-bottom-color: #4361ee !important; /* Accent border */
}

/* List Group Items (Individual Conversations) */
body.dark-mode .list-group-item {
    background-color: #2d3748; /* Default background for list items */
    border-color: #4a5568 !important; /* Darker border between items */
    color: #e2e8f0; /* Default text color for items */
    transition: background-color 0.3s ease; /* Smooth transition for hover */
}

body.dark-mode .list-group-item.conversation-item-hover:hover {
    background-color: #3a455a; /* Slightly lighter dark on hover */
}

body.dark-mode .list-group-item.unread-conversation {
    background-color: #3a0ca3; /* Distinct background for unread conversations */
}

body.dark-mode .list-group-item.unread-conversation:hover {
    background-color: #4361ee; /* Even lighter dark on hover for unread */
}

/* Avatar Placeholder */
body.dark-mode .avatar-placeholder {
    background-color: #4a5568; /* Darker background for avatar placeholder */
    border-color: #4cc9f0 !important; /* Accent border for unread */
}

body.dark-mode .avatar-placeholder .text-muted {
    color: #a0aec0 !important; /* Lighter icon color inside placeholder */
}

/* Conversation Details Text */
body.dark-mode .conversation-details h6 {
    color: #e2e8f0 !important; /* Light text for username */
}

body.dark-mode .conversation-details h6.text-dark {
    color: #e2e8f0 !important; /* Explicitly ensure dark text becomes light */
}

body.dark-mode .last-message-snippet {
    color: #a0aec0 !important; /* Muted light color for message snippet */
}

body.dark-mode .last-message-snippet.fw-bold {
    color: #e2e8f0 !important; /* Stronger light color for unread snippet */
}

body.dark-mode .last-message-snippet .text-primary {
    color: #4cc9f0 !important; /* Accent color for "You:" */
}

body.dark-mode .last-message-snippet .text-info {
    color: #66d9ef !important; /* Complementary accent for sender username */
}

body.dark-mode .text-muted {
    color: #a0aec0 !important; /* General muted text for date/no message */
}

/* Unread Badge */
body.dark-mode .unread-badge {
    background-color: #4cc9f0 !important; /* Accent color for the unread count badge */
    color: #1a202c !important; /* Dark text on the light badge */
}

/* No Conversations State */
body.dark-mode .p-5.text-center.text-muted {
    background-color: #2d3748 !important; /* Dark background for this section */
    color: #e2e8f0 !important; /* Light text */
}

body.dark-mode .p-5.text-center.text-muted .display-4 {
    color: #4cc9f0 !important; /* Accent color for the icon */
}

body.dark-mode .p-5.text-center.text-muted p.text-secondary {
    color: #cbd5e0 !important; /* Lighter text */
}

/* Card Footer Button */
body.dark-mode .card-footer {
    background-color: #1a202c !important; /* Dark background for footer */
    border-top-color: #4a5568 !important; /* Darker border */
}

body.dark-mode .btn-primary.find-user-btn {
    background: linear-gradient(135deg, #3a0ca3, #4361ee) !important; /* Accent gradient for the button */
    border-color: #3a0ca3 !important;
    color: white !important;
}

body.dark-mode .btn-primary.find-user-btn:hover {
    background: linear-gradient(135deg, #4361ee, #3a0ca3) !important;
    border-color: #4361ee !important;
}